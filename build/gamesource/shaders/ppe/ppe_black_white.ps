
/*
ppe_black_white.ps
Эффект "черно-белое" с учетом коэфициента
*/

#include <struct.h>

//##########################################################################

half g_fCoef;

//##########################################################################

sampler2D g_sColor:register(s0);

//##########################################################################

half4 main(VSO_PP IN):COLOR0
{
	half4 vColor = tex2D(g_sColor,IN.vTexUV);
	
	half fCountColor = (vColor.r + vColor.g + vColor.b) / 3.0;
	
	return half4(lerp(vColor.rgb, fCountColor, g_fCoef), vColor.a);
}