
/*
ppe_bloom_final.ps
Эффект bloom, финальный проход - сложение дополнительной освещенности пикселя и лодов текстуры
*/

#include <struct.h>
#include <ps.h>

//##########################################################################

sampler2D g_sColor:register(s0);

//##########################################################################

half4 main(VSO_PP IN) : COLOR0
{
	half4 vColor = tex2Dlod2(g_sColor, IN.vTexUV, 0);
	vColor += tex2Dlod2(g_sColor, IN.vTexUV, 1);
	vColor += tex2Dlod2(g_sColor, IN.vTexUV, 2);
	vColor += tex2Dlod2(g_sColor, IN.vTexUV, 3);
	vColor += tex2Dlod2(g_sColor, IN.vTexUV, 4);
	return vColor*0.2f;
}
